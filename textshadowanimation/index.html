<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <title>Text Shadow Mousemove Effect</title>

    <link href="css/style.css" rel="stylesheet">

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
      <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class = "hero">
      <h1 contentesitable>&#x2620; &#8986; WOAH!</h1>
    </div>

    <script type="text/javascript">
      const hero = document.querySelector('.hero');
      const text = document.querySelector('h1');

      const walk = 100; //=100px

      function shadow(e) {
        //const {offsetWidth: width, offsetHeight: height} = hero;//structure of a code that is below
        const width = hero.offsetWidth;
        const height = hero.offsetHeight;

        let {offsetX: x, offsetY: y} = e;
        
        if (this !== e.target) {
          x = x + e.target.offsetLeft;
          y = y + e.target.offsetTop;
        }
        //console.log(x, y);

        const xWalk = Math.round((x / width * walk) - (walk / 2));
        const yWalk = Math.round((y / height * walk) - (walk / 2));
        
        //text.style.textShadow = '10px 10px 0 red';
        text.style.textShadow = `${xWalk}px ${yWalk}px 0 rgba(255,0,255,0.7),
                                 ${xWalk * -1}px ${yWalk}px 0 rgba(0, 255,0,0.7),
                                 ${xWalk}px ${yWalk * -1}px 0 rgba(0, 255,255,0.7),
                                 ${yWalk}px ${xWalk * -1}px 0 rgba(0, 0, 255,0.7)`;
      } 
      hero.addEventListener('mousemove', shadow);
    </script>
  </body>
</html>