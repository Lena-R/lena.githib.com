<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <title>Image Gallery</title>

    <!-- Bootstrap -->
    <link href="css/style.css" rel="stylesheet">
    <link href = "https://fonts.googleapis.com/css?family=Amatic+SC" rel = "stylesheet" type = "text/css">

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
      <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class = "panels">
      <div class = "panel panel-1">
        <p>Hey</p> <p>Lets</p><p>Dance</p>
      </div>
    <div class = "panel panel-2">
        <p>Give</p> <p>Take</p> <p>Receive</p>
    </div>
    <div class = "panel panel-3">
        <p>Experience</p> <p>It</p><p>Today</p>
    </div>
    <div class = "panel panel-4">
        <p>Give</p><p>All</p><p>You can</p>
    </div>
    <div class = "panel panel-5">
        <p>Life</p><p>In</p><p>Motion</p>
    </div>
    <div class = "panel panel-6">
        <p>Eat</p><p>Pray</p><p>Love</p>
    </div>
    <div class = "panel panel-7">
        <p>Go</p><p>Run</p><p>Don't stop</p>
    </div>

    </div>

    <script type="text/javascript">
      const panels = document.querySelectorAll('.panel');

      function toggleOpen() {
        this.classList.toggle('open');
      }

      function toggleActive(e) {
        // Safari: a property 'transitionend event.propertyName === flex' 
        // Chrome and FireFox: transitionend event.propertyName === flex-grow
        //That's why propertyName has a propert 'includes' (that means to search any property with a key-word flex)
        if (e.propertyName.includes('flex')) {
          this.classList.toggle('open-active');
        }
      }

      panels.forEach(panel => panel.addEventListener('click', toggleOpen));
      panels.forEach(panel => panel.addEventListener('transitionend', toggleActive));
    </script>
  </body>
</html>