<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <title>JS Events</title>

    <link href="css/style.css" rel="stylesheet">

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
      <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
    <![endif]-->
  </head>
  <body>
    <h1>Event Bubbling</h1>
    <p>Just click on an any one of water rounds to see an bubbling effect</p>

    <button  class = "refresh">Refresh Button</button>
    <div class = "one">
      <div class = "two">
        <div class = "three"></div>
      </div>
    </div>

    <script>
      const divs = document.querySelectorAll('div');
      function logText(e) {
        console.log(this.classList.value);
        this.classList.add('water');
        let audio = new Audio();
        audio.src = 'water.wav';
        audio.autoplay = true;

        e.stopPropagation();
      };

      divs.forEach(div => div.addEventListener('click', logText));

      const refreshButton = document.querySelector('.refresh');     

        const refreshPage = () => {
          location.reload();
          console.log('click');
        };

        refreshButton.addEventListener('click', refreshPage, {once: true});

    </script>
  </body>
</html>